{
  "name": "Static-content-build-script",
  "tagline": "This is a build script repository which have a script for making zip files for static content and send mail with zip files.",
  "body": "# Static Content - Build Script\r\n\r\nThis is a build script repository which have a script for making zip files for static content and send mail with zip files.\r\n\r\n```Script\r\n#!/usr/bin/env bash\r\n# Build Variables\r\nOLD_VERSION=\"0.0.0\"\r\nNEW_VERSION=\"0.0.90\"\r\nCURRENT_PATH=${PWD}\r\nPROJECTS=(\"Static Project1\" \"Static Project2\" \"Static Project3\")\r\nENVIRONMENTS=(\"dev\" \"test\" \"both\")\r\n\r\necho -e \"\\n\\n\"==============================Starting Build Process===========================================\r\necho \"Please select a Project for making build: \"\r\n\r\nfor projectIndex in \"${!PROJECTS[@]}\"\r\ndo\r\n    echo $((${projectIndex} + 1)). ${PROJECTS[${projectIndex}]}\r\ndone\r\n\r\necho -n \"Enter Project Number: \"\r\nread projectNumber\r\n\r\necho\r\ncase $projectNumber in\r\n    1)\r\n        sourcePath=/Users/amit/Data/Projects/CP/StaticProject1\r\n        destinationPath=~/Desktop/build/sp1\r\n        configFolder=~/Desktop/config/sp1\r\n        prefixForZipFile=sp1_\r\n        ;;\r\n    2)\r\n        sourcePath=/Users/amit/Data/Projects/CP/StaticProject2\r\n        destinationPath=~/Desktop/build/sp2\r\n        configFolder=~/Desktop/config/sp2\r\n        prefixForZipFile=sp2_\r\n        ;;\r\n    3)\r\n        sourcePath=/Users/amit/Data/Projects/StaticProject3\r\n        destinationPath=~/Desktop/build/sp3\r\n        configFolder=~/Desktop/config/sp3\r\n        prefixForZipFile=sp3_\r\n        ;;\r\nesac\r\n\r\n#Mail Variables\r\nSUBJECT=\"${PROJECTS[${projectNumber}-1]} build for\"\r\nRECEIVER=\"vigildbest@gmail.com amit.thakkar01@outlook.com\"\r\nBODY=\"Please find attachment.\"\r\nATTACHMENTS=\"\"\r\n\r\necho \"Do you want make build for environment:\"\r\nfor environmentIndex in \"${!ENVIRONMENTS[@]}\"\r\ndo\r\n    echo $((${environmentIndex} + 1)). ${ENVIRONMENTS[${environmentIndex-1}]}\r\ndone\r\n\r\necho -n \"Enter Environment Number: \"\r\nread environmentNumber\r\n\r\necho -e \"\\nMaking build for project: ${PROJECTS[${projectNumber}-1]} in ${ENVIRONMENTS[${environmentNumber}-1]} Envonment.\"\r\n\r\ncd ${sourcePath}\r\nsvn update\r\n\r\ncase ${environmentNumber} in\r\n    1)  MakeBuildForEnvironment ${ENVIRONMENTS[0]}\r\n        SUBJECT=\"${SUBJECT} ${ENVIRONMENTS[0]} Environment\"\r\n        ;;\r\n    2)  MakeBuildForEnvironment ${ENVIRONMENTS[1]}\r\n        SUBJECT=\"${SUBJECT} ${ENVIRONMENTS[1]} Environemnt\"\r\n        ;;\r\n    3)  MakeBuildForEnvironment ${ENVIRONMENTS[0]}\r\n        MakeBuildForEnvironment ${ENVIRONMENTS[1]}\r\n        SUBJECT=\"${SUBJECT} ${ENVIRONMENTS[0]}, ${ENVIRONMENTS[1]} Environments\"\r\n        ;;\r\nesac\r\n\r\nMakeBuildForEnvironment() {\r\n    rm -rf ${destinationPath}/${1}/*\r\n    cp -r  ${sourcePath}/public/ ${destinationPath}/${1}/public\r\n    cp -r  ${sourcePath}/index.html ${destinationPath}/${1}\r\n    cp -r  ${sourcePath}/oos.html ${destinationPath}/${1}\r\n    cp ${configFolder}/${1}/config.xml ${destinationPath}/${1}/cda_resources/\r\n    sed \"s/${OLD_VERSION}/${NEW_VERSION}/\" < ${configFolder}/${1}/config.xml > ${destinationPath}/${1}/public/config.xml\r\n    cd ${destinationPath}/${1}/\r\n    zip -r ${destinationPath}/${1}/${prefixForZipFile}${1} *\r\n    ATTACHMENTS=\" $ATTACHMENTS ${destinationPath}/${1}/${prefixForZipFile}${1}.zip\"\r\n}\r\n\r\n#Move to Current Path\r\ncd ${CURRENT_PATH}\r\n\r\necho -n \"Do you want to send mail with attachments? [y/N]:\"\r\nread sendMailFlag\r\n\r\nif [ \"${sendMailFlag}\" ] && [ \"${sendMailFlag}\" != \"\" ] && [ \"N\" != \"${sendMailFlag}\" ] && [ \"n\" != \"${sendMailFlag}\" ]; then\r\n\tSendMail\r\nfi\r\n\r\nSendMail() {\r\n    #Sending Mail\r\n    echo -e \"\\n\\n\\nSending Mail(${SUBJECT}) to ${RECEIVER}\"\r\n    echo ${BODY} | mutt -a ${ATTACHMENTS} -s \"${SUBJECT}\" -- ${RECEIVER}\r\n    echo \"Mail Sent\"\r\n}\r\n```",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}